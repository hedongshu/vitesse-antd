import{d as I,a6 as $,aq as j,J as z,K as E,a7 as D,bh as T,a1 as A,bx as y,O as b,c as r,_ as s,T as P,a0 as k,P as c,t as B}from"./index.d2ad968d.js";var V=globalThis&&globalThis.__rest||function(t,n){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(e[i[o]]=t[i[o]]);return e},q=c.oneOf(B("small","default","large")),J=function(){return{prefixCls:c.string,spinning:c.looseBool,size:q,wrapperClassName:c.string,tip:c.string,delay:c.number,indicator:c.any}},p=null;function K(t,n){return!!t&&!!n&&!isNaN(Number(n))}function M(t){var n=t.indicator;p=typeof n=="function"?n:function(){return r(n,null,null)}}var d=I({name:"ASpin",mixins:[$],inheritAttrs:!1,props:j(J(),{size:"default",spinning:!0,wrapperClassName:""}),setup:function(){return{originalUpdateSpinning:null,configProvider:z("configProvider",E)}},data:function(){var n=this.spinning,e=this.delay,i=K(n,e);return{sSpinning:n&&!i}},created:function(){this.originalUpdateSpinning=this.updateSpinning,this.debouncifyUpdateSpinning(this.$props)},mounted:function(){this.updateSpinning()},updated:function(){var n=this;D(function(){n.debouncifyUpdateSpinning(),n.updateSpinning()})},beforeUnmount:function(){this.cancelExistingSpin()},methods:{debouncifyUpdateSpinning:function(n){var e=n||this.$props,i=e.delay;i&&(this.cancelExistingSpin(),this.updateSpinning=T(this.originalUpdateSpinning,i))},updateSpinning:function(){var n=this.spinning,e=this.sSpinning;e!==n&&this.setState({sSpinning:n})},cancelExistingSpin:function(){var n=this.updateSpinning;n&&n.cancel&&n.cancel()},renderIndicator:function(n){var e="".concat(n,"-dot"),i=A(this,"indicator");return i===null?null:(Array.isArray(i)&&(i=i.length===1?i[0]:i),y(i)?b(i,{class:e}):p&&y(p())?b(p(),{class:e}):r("span",{class:"".concat(e," ").concat(n,"-dot-spin")},[r("i",{class:"".concat(n,"-dot-item")},null),r("i",{class:"".concat(n,"-dot-item")},null),r("i",{class:"".concat(n,"-dot-item")},null),r("i",{class:"".concat(n,"-dot-item")},null)]))}},render:function(){var n,e=this.$props,i=e.size,o=e.prefixCls,u=e.tip,x=e.wrapperClassName,f=this.$attrs,v=f.class,O=f.style,N=V(f,["class","style"]),S=this.configProvider,_=S.getPrefixCls,U=S.direction,a=_("spin",o),g=this.sSpinning,w=(n={},s(n,a,!0),s(n,"".concat(a,"-sm"),i==="small"),s(n,"".concat(a,"-lg"),i==="large"),s(n,"".concat(a,"-spinning"),g),s(n,"".concat(a,"-show-text"),!!u),s(n,"".concat(a,"-rtl"),U==="rtl"),s(n,v,!!v),n),m=r("div",P(P({},N),{},{style:O,class:w}),[this.renderIndicator(a),u?r("div",{class:"".concat(a,"-text")},[u]):null]),h=k(this);if(h&&h.length){var l,C=(l={},s(l,"".concat(a,"-container"),!0),s(l,"".concat(a,"-blur"),g),l);return r("div",{class:["".concat(a,"-nested-loading"),x]},[g&&r("div",{key:"loading"},[m]),r("div",{class:C,key:"container"},[h])])}return m}});d.setDefaultIndicator=M;d.install=function(t){return t.component(d.name,d),t};export{d as S,J as g};
